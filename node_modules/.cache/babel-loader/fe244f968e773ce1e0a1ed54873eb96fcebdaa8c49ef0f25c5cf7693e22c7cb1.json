{"ast":null,"code":"import React,{useEffect,useState}from'react';import L from'leaflet';import'leaflet/dist/leaflet.css';import fetching from'./sample';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[selectedPoint,setSelectedPoint]=useState(null);const[bufferDistance,setBufferDistance]=useState('');const[fetchedData,setFetchedData]=useState(null);const[mapZoom,setMapZoom]=useState(9);const[selectedOption,setSelectedOption]=useState('centroid');useEffect(()=>{const initialView=selectedPoint?selectedPoint:[33.275,-96.564];const map=L.map('map').setView(initialView,mapZoom);// Adding OpenStreetMap tile layer\nL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'}).addTo(map);if(selectedPoint){L.circleMarker(selectedPoint,{radius:5,color:'black',fillOpacity:1}).addTo(map);L.circle(selectedPoint,{radius:bufferDistance*1000,color:'blue',fillOpacity:0.2}).addTo(map);}const onMapClick=e=>{setSelectedPoint([e.latlng.lat,e.latlng.lng]);setMapZoom(map.getZoom());};map.on('click',onMapClick);return()=>{map.remove();};},[selectedPoint,bufferDistance]);const handleBufferDistanceChange=async e=>{const newBufferDistance=e.target.value;setBufferDistance(newBufferDistance);};const handleSubmit=async()=>{console.log(\"Enterd the handle subm,it\");try{const data=await fetching(selectedPoint[0],selectedPoint[1],bufferDistance*1000,selectedOption);console.log(\"Data from API\",data[0]);setFetchedData(data[0]);}catch(error){console.error('Error in Returdata:',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'orange'},children:[/*#__PURE__*/_jsx(\"div\",{id:\"map\",className:\"map\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Selected Point Coordinates:\"})}),selectedPoint&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\" Latitude: \"}),selectedPoint[0],\",\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\" Longitude: \"}),selectedPoint[1]]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Enter buffer distance in kilometers:\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:bufferDistance,onChange:handleBufferDistanceChange})]}),/*#__PURE__*/_jsx(\"div\",{children:selectedPoint&&bufferDistance&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Select the method:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"centroid\",checked:selectedOption==='centroid',onChange:()=>setSelectedOption('centroid')}),\"Centroid Based Method\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"areal\",checked:selectedOption==='areal',onChange:()=>setSelectedOption('areal')}),\"Areal Proportion Method\"]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Please submit to fetch the results: \"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{backgroundColor:'black',color:'white',padding:'10px 15px',border:'none',borderRadius:\"1rem\",cursor:'pointer',transition:'background-color 0.3s ease'},onMouseOver:e=>e.target.style.backgroundColor='green',onMouseOut:e=>e.target.style.backgroundColor='black',children:\"Submit\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Fetched Data:\"}),fetchedData?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Population: \",fetchedData.weighted_population]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Average Salary( in Dollars): \",fetchedData.weighted_average_salary]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No data fetched yet. Please submit to fetch results\"})]})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","L","fetching","jsx","_jsx","jsxs","_jsxs","App","selectedPoint","setSelectedPoint","bufferDistance","setBufferDistance","fetchedData","setFetchedData","mapZoom","setMapZoom","selectedOption","setSelectedOption","initialView","map","setView","tileLayer","maxZoom","attribution","addTo","circleMarker","radius","color","fillOpacity","circle","onMapClick","e","latlng","lat","lng","getZoom","on","remove","handleBufferDistanceChange","newBufferDistance","target","value","handleSubmit","console","log","data","error","style","backgroundColor","children","id","className","type","onChange","checked","onClick","padding","border","borderRadius","cursor","transition","onMouseOver","onMouseOut","weighted_population","weighted_average_salary"],"sources":["/Users/dheerajgavini/Desktop/Personal Projects/SpatialLaser/demographic-harvesting-frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport fetching from './sample';\n\n\nimport './App.css'; \n\nconst App = () => {\n  const [selectedPoint, setSelectedPoint] = useState(null);\n  const [bufferDistance, setBufferDistance] = useState('');\n  const [fetchedData, setFetchedData] = useState(null);\n  const [mapZoom, setMapZoom] = useState(9);\n  const [selectedOption, setSelectedOption] = useState('centroid');\n\n  useEffect(() => {\n    const initialView = selectedPoint ? selectedPoint : [33.275, -96.564];\n\n    const map = L.map('map').setView(initialView, mapZoom);\n    // Adding OpenStreetMap tile layer\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      maxZoom: 19,\n      attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n    }).addTo(map);\n\n\n    if (selectedPoint) {\n      L.circleMarker(selectedPoint, {\n        radius: 5,\n        color: 'black',\n        fillOpacity: 1,\n      }).addTo(map);\n\n\n      L.circle(selectedPoint, {\n        radius: bufferDistance*1000 , \n        color: 'blue',\n        fillOpacity: 0.2,\n      }).addTo(map);\n    }\n\n\n    const onMapClick = (e) => {\n      setSelectedPoint([e.latlng.lat, e.latlng.lng]);\n      setMapZoom(map.getZoom());\n    };\n\n    map.on('click', onMapClick);\n\n \n    return () => {\n      map.remove();\n    };\n  }, [selectedPoint, bufferDistance]);\n\n  const handleBufferDistanceChange = async (e) => {\n    const newBufferDistance = e.target.value;\n    setBufferDistance(newBufferDistance);\n  };\n\n  const handleSubmit = async () =>{\n       console.log(\"Enterd the handle subm,it\");\n    try {\n      const data = await fetching(selectedPoint[0], selectedPoint[1], bufferDistance*1000, selectedOption );\n      console.log(\"Data from API\", data[0]);\n      setFetchedData(data[0]);\n  } catch (error) {\n      console.error('Error in Returdata:', error);\n  }\n\n    \n  }\n\n  return (\n    <div style={{ backgroundColor: 'orange' }}>\n      <div id=\"map\" className=\"map\"></div>\n      <br/>\n      <div>\n        <label><h1>Selected Point Coordinates:</h1></label>\n        {selectedPoint && <span><b> Latitude: </b>{selectedPoint[0]},<br/><b> Longitude: </b>{selectedPoint[1]}</span>}\n      </div>\n      <div>\n        <label><h2>Enter buffer distance in kilometers:</h2></label>\n        <input type=\"number\" value={bufferDistance} onChange={handleBufferDistanceChange} />\n      </div>\n      <div>\n        {selectedPoint && bufferDistance && (\n          <div>\n            <h1> Select the method:</h1>\n            <div>\n                <label>\n                  <input\n                    type=\"radio\"\n                    value=\"centroid\"\n                    checked={selectedOption === 'centroid'}\n                    onChange={() => setSelectedOption('centroid')}\n                  />\n                  Centroid Based Method\n                </label>\n                <br/>\n                <label>\n                  <input\n                    type=\"radio\"\n                    value=\"areal\"\n                    checked={selectedOption === 'areal'}\n                    onChange={() => setSelectedOption('areal')}\n                  />\n                  Areal Proportion Method\n                </label>\n            </div>\n            <br/>\n            <span><b>Please submit to fetch the results: </b></span>\n            <button onClick={handleSubmit}\n              style={{\n                backgroundColor: 'black',\n                color: 'white',\n                padding: '10px 15px',\n                border: 'none',\n                borderRadius: \"1rem\",\n                cursor: 'pointer',\n                transition: 'background-color 0.3s ease',\n              }}\n              onMouseOver={(e) => e.target.style.backgroundColor = 'green'}\n              onMouseOut={(e) => e.target.style.backgroundColor = 'black'}\n            >Submit</button>\n          </div>\n        )}\n      </div>\n      <div>\n        <h2>Fetched Data:</h2>\n        {fetchedData ? (\n          <div>\n            <p>Total Population: {fetchedData.weighted_population}</p>\n            <p>Average Salary( in Dollars): {fetchedData.weighted_average_salary}</p>\n          </div>\n        ) : (\n          <p>No data fetched yet. Please submit to fetch results</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}